<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!--  This file is generated by Nim. -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Favicon -->
<link rel="shortcut icon" href="data:image/x-icon;base64,AAABAAEAEBAAAAEAIABoBAAAFgAAACgAAAAQAAAAIAAAAAEAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AAAAAAUAAAAF////AP///wD///8A////AP///wD///8A////AP///wD///8A////AAAAAAIAAABbAAAAlQAAAKIAAACbAAAAmwAAAKIAAACVAAAAWwAAAAL///8A////AP///wD///8A////AAAAABQAAADAAAAAYwAAAA3///8A////AP///wD///8AAAAADQAAAGMAAADAAAAAFP///wD///8A////AP///wAAAACdAAAAOv///wD///8A////AP///wD///8A////AP///wD///8AAAAAOgAAAJ3///8A////AP///wAAAAAnAAAAcP///wAAAAAoAAAASv///wD///8A////AP///wAAAABKAAAAKP///wAAAABwAAAAJ////wD///8AAAAAgQAAABwAAACIAAAAkAAAAJMAAACtAAAAFQAAABUAAACtAAAAkwAAAJAAAACIAAAAHAAAAIH///8A////AAAAAKQAAACrAAAAaP///wD///8AAAAARQAAANIAAADSAAAARf///wD///8AAAAAaAAAAKsAAACk////AAAAADMAAACcAAAAnQAAABj///8A////AP///wAAAAAYAAAAGP///wD///8A////AAAAABgAAACdAAAAnAAAADMAAAB1AAAAwwAAAP8AAADpAAAAsQAAAE4AAAAb////AP///wAAAAAbAAAATgAAALEAAADpAAAA/wAAAMMAAAB1AAAAtwAAAOkAAAD/AAAA/wAAAP8AAADvAAAA3gAAAN4AAADeAAAA3gAAAO8AAAD/AAAA/wAAAP8AAADpAAAAtwAAAGUAAAA/AAAA3wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAADfAAAAPwAAAGX///8A////AAAAAEgAAADtAAAAvwAAAL0AAADGAAAA7wAAAO8AAADGAAAAvQAAAL8AAADtAAAASP///wD///8A////AP///wD///8AAAAAO////wD///8A////AAAAAIcAAACH////AP///wD///8AAAAAO////wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A//8AAP//AAD4HwAA7/cAAN/7AAD//wAAoYUAAJ55AACf+QAAh+EAAAAAAADAAwAA4AcAAP5/AAD//wAA//8AAA=="/>

<!-- Google fonts -->
<link href='https://fonts.googleapis.com/css?family=Lato:400,600,900' rel='stylesheet' type='text/css'/>
<link href='https://fonts.googleapis.com/css?family=Source+Code+Pro:400,500,600' rel='stylesheet' type='text/css'/>

<!-- CSS -->
<title>build</title>
<style type="text/css" >
/*
Stylesheet for use with Docutils/rst2html.

See http://docutils.sf.net/docs/howto/html-stylesheets.html for how to
customize this style sheet.

Modified from Chad Skeeters' rst2html-style
https://bitbucket.org/cskeeters/rst2html-style/

Modified by Boyd Greenfield and narimiran
*/

html {
  font-size: 100%;
  -webkit-text-size-adjust: 100%;
  -ms-text-size-adjust: 100%; }

body {
  font-family: "Lato", "Helvetica Neue", "HelveticaNeue", Helvetica, Arial, sans-serif;
  font-weight: 400;
  font-size: 1.125em;
  line-height: 1.5;
  color: #222;
  background-color: #FCFCFC; }

/* Skeleton grid */
.container {
  position: relative;
  width: 100%;
  max-width: 1050px;
  margin: 0 auto;
  padding: 0;
  box-sizing: border-box; }

.column,
.columns {
  width: 100%;
  float: left;
  box-sizing: border-box;
  margin-left: 1%;
}

.column:first-child,
.columns:first-child {
  margin-left: 0; }

.three.columns {
  width: 19%; }

.nine.columns {
  width: 80.0%; }

.twelve.columns {
  width: 100%;
  margin-left: 0; }

@media screen and (max-width: 860px) {
  .three.columns {
    display: none;
  }
  .nine.columns {
    width: 98.0%;
  }
  body {
    font-size: 1em;
    line-height: 1.35;
  }
}

cite {
  font-style: italic !important; }


/* Nim search input */
div#searchInputDiv {
  margin-bottom: 1em;
}
input#searchInput {
  width: 80%;
}

/*
 * Some custom formatting for input forms.
 * This also fixes input form colors on Firefox with a dark system theme on Linux.
 */
input {
  -moz-appearance: none;
  color: #333;
  background-color: #f8f8f8;
  border: 1px solid #aaa;
  font-family: "Lato", "Helvetica Neue", "HelveticaNeue", Helvetica, Arial, sans-serif;
  font-size: 0.9em;
  padding: 6px;
}
input:focus {
  border: 1px solid #1fa0eb;
  box-shadow: 0 0 2px #1fa0eb;
}

/* Docgen styles */
/* Links */
a {
  color: #07b;
  text-decoration: none;
}

a span.Identifier {
  text-decoration: underline;
  text-decoration-color: #aab;
}

a.reference-toplevel {
  font-weight: bold;
}

a.toc-backref {
  text-decoration: none;
  color: #222; }

a.link-seesrc {
  color: #607c9f;
  font-size: 0.9em;
  font-style: italic; }

a:hover,
a:focus {
  color: #607c9f;
  text-decoration: underline; }

a:hover span.Identifier {
  color: #607c9f;
}


sub,
sup {
  position: relative;
  font-size: 75%;
  line-height: 0;
  vertical-align: baseline; }

sup {
  top: -0.5em; }

sub {
  bottom: -0.25em; }

img {
  width: auto;
  height: auto;
  max-width: 100%;
  vertical-align: middle;
  border: 0;
  -ms-interpolation-mode: bicubic; }

@media print {
  * {
    color: black !important;
    text-shadow: none !important;
    background: transparent !important;
    box-shadow: none !important; }

  a,
  a:visited {
    text-decoration: underline; }

  a[href]:after {
    content: " (" attr(href) ")"; }

  abbr[title]:after {
    content: " (" attr(title) ")"; }

  .ir a:after,
  a[href^="javascript:"]:after,
  a[href^="#"]:after {
    content: ""; }

  pre,
  blockquote {
    border: 1px solid #999;
    page-break-inside: avoid; }

  thead {
    display: table-header-group; }

  tr,
  img {
    page-break-inside: avoid; }

  img {
    max-width: 100% !important; }

  @page {
    margin: 0.5cm; }

  h1 {
    page-break-before: always; }

  h1.title {
    page-break-before: avoid; }

  p,
  h2,
  h3 {
    orphans: 3;
    widows: 3; }

  h2,
  h3 {
    page-break-after: avoid; }
}


p {
  margin-top: 0.5em;
  margin-bottom: 0.5em;
}

small {
  font-size: 85%; }

strong {
  font-weight: 600;
  font-size: 0.95em;
  color: #3c3c3c;
}

em {
  font-style: italic; }

h1 {
  font-size: 1.8em;
  font-weight: 400;
  padding-bottom: .25em;
  border-bottom: 1px solid #aaa;
  margin-top: 2.5em;
  margin-bottom: 1em;
  line-height: 1.2em; }

h1.title {
  padding-bottom: 1em;
  border-bottom: 0px;
  font-size: 2.5em;
  text-align: center;
  font-weight: 900;
  margin-top: 0.75em;
  margin-bottom: 0em;
}

h2 {
  font-size: 1.3em;
  margin-top: 2em; }

h2.subtitle {
  text-align: center; }

h3 {
  font-size: 1.125em;
  font-style: italic;
  margin-top: 1.5em; }

h4 {
  font-size: 1.125em;
  margin-top: 1em; }

h5 {
  font-size: 1.125em;
  margin-top: 0.75em; }

h6 {
  font-size: 1.1em; }


ul,
ol {
  padding: 0;
  margin-top: 0.5em;
  margin-left: 0.75em; }

ul ul,
ul ol,
ol ol,
ol ul {
  margin-bottom: 0;
  margin-left: 1.25em; }

li {
    list-style-type: circle;
}

ul.simple-boot li {
    list-style-type: none;
    margin-left: 0em;
    margin-bottom: 0.5em;
}

ol.simple > li, ul.simple > li {
  margin-bottom: 0.25em;
  margin-left: 0.4em }

ul.simple.simple-toc > li {
    margin-top: 1em;
}

ul.simple-toc {
  list-style: none;
  font-size: 0.9em;
  margin-left: -0.3em;
  margin-top: 1em; }

ul.simple-toc > li {
    list-style-type: none;
}

ul.simple-toc-section {
  list-style-type: circle;
  margin-left: 1em;
  color: #6c9aae; }


ol.arabic {
  list-style: decimal; }

ol.loweralpha {
  list-style: lower-alpha; }

ol.upperalpha {
  list-style: upper-alpha; }

ol.lowerroman {
  list-style: lower-roman; }

ol.upperroman {
  list-style: upper-roman; }

ul.auto-toc {
  list-style-type: none; }


dl {
  margin-bottom: 1.5em; }

dt {
  margin-bottom: -0.5em;
  margin-left: 0.0em; }

dd {
  margin-left: 2.0em;
  margin-bottom: 3.0em;
  margin-top: 0.5em; }


hr {
  margin: 2em 0;
  border: 0;
  border-top: 1px solid #aaa; }

blockquote {
  font-size: 0.9em;
  font-style: italic;
  padding-left: 0.5em;
  margin-left: 0;
  border-left: 5px solid #bbc;
}

.pre {
  font-family: "Source Code Pro", Monaco, Menlo, Consolas, "Courier New", monospace;
  font-weight: 500;
  font-size: 0.85em;
  background-color: #f0f3ff;
  padding-left: 3px;
  padding-right: 3px;
  border-radius: 4px;
}

pre {
  font-family: "Source Code Pro", Monaco, Menlo, Consolas, "Courier New", monospace;
  color: #222;
  font-weight: 500;
  display: inline-block;
  box-sizing: border-box;
  min-width: 100%;
  padding: 0.5em;
  margin-top: 0.5em;
  margin-bottom: 0.5em;
  font-size: 0.85em;
  white-space: pre !important;
  overflow-y: hidden;
  overflow-x: visible;
  background-color: ghostwhite;
  border: 1px solid #dde;
  -webkit-border-radius: 6px;
  -moz-border-radius: 6px;
  border-radius: 6px; }

.pre-scrollable {
  max-height: 340px;
  overflow-y: scroll; }


/* Nim line-numbered tables */
.line-nums-table {
  width: 100%;
  table-layout: fixed; }

table.line-nums-table {
  border-radius: 4px;
  border: 1px solid #cccccc;
  background-color: ghostwhite;
  border-collapse: separate;
  margin-top: 15px;
  margin-bottom: 25px; }

.line-nums-table tbody {
  border: none; }

.line-nums-table td pre {
  border: none;
  background-color: transparent; }

.line-nums-table td.blob-line-nums {
  width: 28px; }

.line-nums-table td.blob-line-nums pre {
  color: #b0b0b0;
  -webkit-filter: opacity(75%);
  text-align: right;
  border-color: transparent;
  background-color: transparent;
  padding-left: 0px;
  margin-left: 0px;
  padding-right: 0px;
  margin-right: 0px; }


table {
  max-width: 100%;
  background-color: transparent;
  margin-top: 0.5em;
  margin-bottom: 1.5em;
  border-collapse: collapse;
  border-color: #ccc;
  border-spacing: 0;
  font-size: 0.9em;
}

table th, table td {
  padding: 0px 0.5em 0px;
}

table th {
  background-color: #e8e8e8;
  font-weight: bold; }

table th.docinfo-name {
    background-color: transparent;
}

table tr:hover {
  background-color: ghostwhite; }


/* rst2html default used to remove borders from tables and images */
.borderless, table.borderless td, table.borderless th {
  border: 0; }

table.borderless td, table.borderless th {
  /* Override padding for "table.docutils td" with "! important".
     The right padding separates the table cells. */
  padding: 0 0.5em 0 0 !important; }

.first {
  /* Override more specific margin styles with "! important". */
  margin-top: 0 !important; }

.last, .with-subtitle {
  margin-bottom: 0 !important; }

.hidden {
  display: none; }

blockquote.epigraph {
  margin: 2em 5em; }

dl.docutils dd {
  margin-bottom: 0.5em; }

object[type="image/svg+xml"], object[type="application/x-shockwave-flash"] {
  overflow: hidden; }


div.figure {
  margin-left: 2em;
  margin-right: 2em; }

div.footer, div.header {
  clear: both;
  text-align: center;
  color: #666;
  font-size: smaller; }

div.footer {
    padding-top: 5em;
}

div.line-block {
  display: block;
  margin-top: 1em;
  margin-bottom: 1em; }

div.line-block div.line-block {
  margin-top: 0;
  margin-bottom: 0;
  margin-left: 1.5em; }

div.topic {
  margin: 2em; }

div.search_results {
  background-color: antiquewhite;
  margin: 3em;
  padding: 1em;
  border: 1px solid #4d4d4d;
}

div#global-links ul {
  margin-left: 0;
  list-style-type: none;
}

div#global-links > simple-boot {
    margin-left: 3em;
}

hr.docutils {
  width: 75%; }

img.align-left, .figure.align-left, object.align-left {
  clear: left;
  float: left;
  margin-right: 1em; }

img.align-right, .figure.align-right, object.align-right {
  clear: right;
  float: right;
  margin-left: 1em; }

img.align-center, .figure.align-center, object.align-center {
  display: block;
  margin-left: auto;
  margin-right: auto; }

.align-left {
  text-align: left; }

.align-center {
  clear: both;
  text-align: center; }

.align-right {
  text-align: right; }

/* reset inner alignment in figures */
div.align-right {
  text-align: inherit; }

p.attribution {
  text-align: right;
  margin-left: 50%; }

p.caption {
  font-style: italic; }

p.credits {
  font-style: italic;
  font-size: smaller; }

p.label {
  white-space: nowrap; }

p.rubric {
  font-weight: bold;
  font-size: larger;
  color: maroon;
  text-align: center; }

p.topic-title {
  font-weight: bold; }

pre.address {
  margin-bottom: 0;
  margin-top: 0;
  font: inherit; }

pre.literal-block, pre.doctest-block, pre.math, pre.code {
  margin-left: 2em;
  margin-right: 2em; }

pre.code .ln {
  color: grey; }

/* line numbers */
pre.code, code {
  background-color: #eeeeee; }

pre.code .comment, code .comment {
  color: #5c6576; }

pre.code .keyword, code .keyword {
  color: #3B0D06;
  font-weight: bold; }

pre.code .literal.string, code .literal.string {
  color: #0c5404; }

pre.code .name.builtin, code .name.builtin {
  color: #352b84; }

pre.code .deleted, code .deleted {
  background-color: #DEB0A1; }

pre.code .inserted, code .inserted {
  background-color: #A3D289; }

span.classifier {
  font-style: oblique; }

span.classifier-delimiter {
  font-weight: bold; }

span.option {
  white-space: nowrap; }

span.problematic {
  color: #b30000; }

span.section-subtitle {
  /* font-size relative to parent (h1..h6 element) */
  font-size: 80%; }

span.DecNumber {
  color: #252dbe; }

span.BinNumber {
  color: #252dbe; }

span.HexNumber {
  color: #252dbe; }

span.OctNumber {
  color: #252dbe; }

span.FloatNumber {
  color: #252dbe; }

span.Identifier {
  color: #222; }

span.Keyword {
  font-weight: 600;
  color: #5e8f60; }

span.StringLit {
  color: #a4255b; }

span.LongStringLit {
  color: #a4255b; }

span.CharLit {
  color: #a4255b; }

span.EscapeSequence {
  color: black; }

span.Operator {
  color: black; }

span.Punctuation {
  color: black; }

span.Comment, span.LongComment {
  font-style: italic;
  font-weight: 400;
  color: #484a86; }

span.RegularExpression {
  color: darkviolet; }

span.TagStart {
  color: darkviolet; }

span.TagEnd {
  color: darkviolet; }

span.Key {
  color: #252dbe; }

span.Value {
  color: #252dbe; }

span.RawData {
  color: #a4255b; }

span.Assembler {
  color: #252dbe; }

span.Preprocessor {
  color: #252dbe; }

span.Directive {
  color: #252dbe; }

span.Command, span.Rule, span.Hyperlink, span.Label, span.Reference,
span.Other {
  color: black; }

/* Pop type, const, proc, and iterator defs in nim def blocks */
dt pre > span.Identifier, dt pre > span.Operator {
  color: #155da4;
  font-weight: 700; }

dt pre > span.Keyword ~ span.Identifier, dt pre > span.Identifier ~ span.Identifier,
dt pre > span.Operator ~ span.Identifier, dt pre > span.Other ~ span.Identifier {
  color: inherit;
  font-weight: inherit; }

/* Nim sprite for the footer (taken from main page favicon) */
.nim-sprite {
  display: inline-block;
  height: 16px;
  width: 16px;
  background-position: 0 0;
  background-size: 16px 16px;
  -webkit-filter: opacity(50%);
  background-repeat: no-repeat;
  background-image: url("data:image/x-icon;base64,AAABAAEAEBAAAAEAIABoBAAAFgAAACgAAAAQAAAAIAAAAAEAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AAAAAAUAAAAF////AP///wD///8A////AP///wD///8A////AP///wD///8A////AAAAAAIAAABbAAAAlQAAAKIAAACbAAAAmwAAAKIAAACVAAAAWwAAAAL///8A////AP///wD///8A////AAAAABQAAADAAAAAYwAAAA3///8A////AP///wD///8AAAAADQAAAGMAAADAAAAAFP///wD///8A////AP///wAAAACdAAAAOv///wD///8A////AP///wD///8A////AP///wD///8AAAAAOgAAAJ3///8A////AP///wAAAAAnAAAAcP///wAAAAAoAAAASv///wD///8A////AP///wAAAABKAAAAKP///wAAAABwAAAAJ////wD///8AAAAAgQAAABwAAACIAAAAkAAAAJMAAACtAAAAFQAAABUAAACtAAAAkwAAAJAAAACIAAAAHAAAAIH///8A////AAAAAKQAAACrAAAAaP///wD///8AAAAARQAAANIAAADSAAAARf///wD///8AAAAAaAAAAKsAAACk////AAAAADMAAACcAAAAnQAAABj///8A////AP///wAAAAAYAAAAGP///wD///8A////AAAAABgAAACdAAAAnAAAADMAAAB1AAAAwwAAAP8AAADpAAAAsQAAAE4AAAAb////AP///wAAAAAbAAAATgAAALEAAADpAAAA/wAAAMMAAAB1AAAAtwAAAOkAAAD/AAAA/wAAAP8AAADvAAAA3gAAAN4AAADeAAAA3gAAAO8AAAD/AAAA/wAAAP8AAADpAAAAtwAAAGUAAAA/AAAA3wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAADfAAAAPwAAAGX///8A////AAAAAEgAAADtAAAAvwAAAL0AAADGAAAA7wAAAO8AAADGAAAAvQAAAL8AAADtAAAASP///wD///8A////AP///wD///8AAAAAO////wD///8A////AAAAAIcAAACH////AP///wD///8AAAAAO////wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A//8AAP//AAD4HwAA7/cAAN/7AAD//wAAoYUAAJ55AACf+QAAh+EAAAAAAADAAwAA4AcAAP5/AAD//wAA//8AAA==");
  margin-bottom: -5px; }

span.pragmadots {
  /* Position: relative frees us up to make the dots
  look really nice without fucking up the layout and
  causing bulging in the parent container */
  position: relative;
  /* 1px down looks slightly nicer */
  top: 1px;
  padding: 2px;
  background-color: #e8e8e8;
  border-radius: 4px;
  margin: 0 2px;
  cursor: pointer;
  font-size: 0.8em;
}

span.pragmadots:hover {
  background-color: #DBDBDB;
}
span.pragmawrap {
  display: none;
}

span.attachedType {
  display: none;
  visibility: hidden;
}
</style>

<script type="text/javascript" src="dochack.js"></script>

<script type="text/javascript">
function main() {
  var pragmaDots = document.getElementsByClassName("pragmadots");
  for (var i = 0; i < pragmaDots.length; i++) {
    pragmaDots[i].onclick = function(event) {
      // Hide tease
      event.target.parentNode.style.display = "none";
      // Show actual
      event.target.parentNode.nextElementSibling.style.display = "inline";
    }
  }
}
</script>

</head>
<body onload="main()">
<div class="document" id="documentId">
  <div class="container">
    <h1 class="title">build</h1>
    <div class="row">
  <div class="three columns">
  <div id="global-links">
    <ul class="simple">
    </ul>
  </div>
  <div id="searchInputDiv">
    Search: <input type="text" id="searchInput"
      onkeyup="search()" />
  </div>
  <div>
    Group by:
    <select onchange="groupBy(this.value)">
      <option value="section">Section</option>
      <option value="type">Type</option>
    </select>
  </div>
  <ul class="simple simple-toc" id="toc-list">
<li>
  <a class="reference reference-toplevel" href="#6" id="56">Imports</a>
  <ul class="simple simple-toc-section">
    
  </ul>
</li>
<li>
  <a class="reference reference-toplevel" href="#12" id="62">Procs</a>
  <ul class="simple simple-toc-section">
      <li><a class="reference" href="#sanitizePath%2Cstring"
    title="sanitizePath(path: string; noQuote = false; sep = $&apos;/&apos;): string"><wbr />sanitize<wbr />Path<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#sleep%2Cint"
    title="sleep(milsecs: int)"><wbr />sleep<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#execAction%2Cstring%2Cint"
    title="execAction(cmd: string; retry = 0; nostderr = false): string"><wbr />exec<wbr />Action<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#findExe%2Cstring"
    title="findExe(exe: string): string"><wbr />find<wbr />Exe<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#mkDir%2Cstring"
    title="mkDir(dir: string)"><wbr />mk<wbr />Dir<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#cpFile%2Cstring%2Cstring"
    title="cpFile(source, dest: string; move = false)"><wbr />cp<wbr />File<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#mvFile%2Cstring%2Cstring"
    title="mvFile(source, dest: string)"><wbr />mv<wbr />File<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#rmFile%2Cstring"
    title="rmFile(source: string; dir = false)"><wbr />rm<wbr />File<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#rmDir%2Cstring"
    title="rmDir(dir: string)"><wbr />rm<wbr />Dir<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#getProjectCacheDir%2Cstring"
    title="getProjectCacheDir(name: string; forceClean = true): string"><wbr />get<wbr />Project<wbr />Cache<wbr />Dir<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#extractZip%2Cstring%2Cstring"
    title="extractZip(zipfile, outdir: string)"><wbr />extract<wbr />Zip<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#extractTar%2Cstring%2Cstring"
    title="extractTar(tarfile, outdir: string)"><wbr />extract<wbr />Tar<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#downloadUrl%2Cstring%2Cstring"
    title="downloadUrl(url, outdir: string)"><wbr />download<wbr />Url<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#gitReset%2Cstring"
    title="gitReset(outdir: string)"><wbr />git<wbr />Reset<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#gitCheckout%2Cstring%2Cstring"
    title="gitCheckout(file, outdir: string)"><wbr />git<wbr />Checkout<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#gitPull%2Cstring%2Cstring%2Cstring%2Cstring"
    title="gitPull(url: string; outdir = &quot;&quot;; plist = &quot;&quot;; checkout = &quot;&quot;)"><wbr />git<wbr />Pull<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#findFile%2Cstring%2Cstring"
    title="findFile(file: string; dir: string; recurse = true; first = false; regex = false): string"><wbr />find<wbr />File<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#flagBuild%2Cstring%2CopenArray%5Bstring%5D"
    title="flagBuild(base: string; flags: openArray[string]): string"><wbr />flag<wbr />Build<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#linkLibs%2CopenArray%5Bstring%5D"
    title="linkLibs(names: openArray[string]; staticLink = true): string"><wbr />link<wbr />Libs<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#configure%2Cstring%2Cstring%2Cstring"
    title="configure(path, check: string; flags = &quot;&quot;)"><wbr />configure<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#getCmakeIncludePath%2CopenArray%5Bstring%5D"
    title="getCmakeIncludePath(paths: openArray[string]): string"><wbr />get<wbr />Cmake<wbr />Include<wbr />Path<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#setCmakeProperty%2Cstring%2Cstring%2Cstring%2Cstring"
    title="setCmakeProperty(outdir, name, property, value: string)"><wbr />set<wbr />Cmake<wbr />Property<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#setCmakeLibName%2Cstring%2Cstring%2Cstring%2Cstring%2Cstring"
    title="setCmakeLibName(outdir, name, prefix = &quot;&quot;; oname = &quot;&quot;; suffix = &quot;&quot;)"><wbr />set<wbr />Cmake<wbr />Lib<wbr />Name<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#setCmakePositionIndependentCode%2Cstring"
    title="setCmakePositionIndependentCode(outdir: string)"><wbr />set<wbr />Cmake<wbr />Position<wbr />Independent<wbr />Code<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#cmake%2Cstring%2Cstring%2Cstring"
    title="cmake(path, check, flags: string)"><wbr />cmake<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#make%2Cstring%2Cstring%2Cstring"
    title="make(path, check: string; flags = &quot;&quot;; regex = false)"><wbr />make<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#getGccPaths%2Cstring"
    title="getGccPaths(mode = &quot;c&quot;): seq[string]"><wbr />get<wbr />Gcc<wbr />Paths<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#getGccLibPaths%2Cstring"
    title="getGccLibPaths(mode = &quot;c&quot;): seq[string]"><wbr />get<wbr />Gcc<wbr />Lib<wbr />Paths<span class="attachedType"></span></a></li>

  </ul>
</li>
<li>
  <a class="reference reference-toplevel" href="#17" id="67">Macros</a>
  <ul class="simple simple-toc-section">
      <li><a class="reference" href="#setDefines.m"
    title="setDefines(defs: static openArray[string]): untyped"><wbr />set<wbr />Defines<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#clearDefines.m"
    title="clearDefines(): untyped"><wbr />clear<wbr />Defines<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#isDefined.m%2Cuntyped"
    title="isDefined(def: untyped): untyped"><wbr />is<wbr />Defined<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#getHeader.m%2Cstatic%5Bstring%5D%2Cstatic%5Bstring%5D%2Cstatic%5Bstring%5D%2Cstatic%5Bstring%5D%2Cstatic%5Bstring%5D%2Cstatic%5Bstring%5D%2Cstatic%5Bstring%5D%2Cstatic%5Bstring%5D"
    title="getHeader(header: static[string]; giturl: static[string] = &quot;&quot;;
          dlurl: static[string] = &quot;&quot;; outdir: static[string] = &quot;&quot;;
          conFlags: static[string] = &quot;&quot;; cmakeFlags: static[string] = &quot;&quot;;
          makeFlags: static[string] = &quot;&quot;; altNames: static[string] = &quot;&quot;): untyped"><wbr />get<wbr />Header<span class="attachedType"></span></a></li>

  </ul>
</li>

</ul>

  </div>
  <div class="nine columns" id="content">
  <div id="tocRoot"></div>
  
  <p class="module-desc"></p>
  <div class="section" id="6">
<h1><a class="toc-backref" href="#6">Imports</a></h1>
<dl class="item">
<a class="reference external" href="compat.html">compat</a>
</dl></div>
<div class="section" id="12">
<h1><a class="toc-backref" href="#12">Procs</a></h1>
<dl class="item">
<a id="sanitizePath,string"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#sanitizePath%2Cstring"><span class="Identifier">sanitizePath</span></a><span class="Other">(</span><span class="Identifier">path</span><span class="Other">:</span> <span class="Identifier">string</span><span class="Other">;</span> <span class="Identifier">noQuote</span> <span class="Other">=</span> <span class="Identifier">false</span><span class="Other">;</span> <span class="Identifier">sep</span> <span class="Other">=</span> <span class="Operator">$</span><span class="CharLit">'/'</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">string</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>



</dd>
<a id="sleep,int"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#sleep%2Cint"><span class="Identifier">sleep</span></a><span class="Other">(</span><span class="Identifier">milsecs</span><span class="Other">:</span> <span class="Identifier">int</span><span class="Other">)</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

Sleep at compile time

</dd>
<a id="execAction,string,int"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#execAction%2Cstring%2Cint"><span class="Identifier">execAction</span></a><span class="Other">(</span><span class="Identifier">cmd</span><span class="Other">:</span> <span class="Identifier">string</span><span class="Other">;</span> <span class="Identifier">retry</span> <span class="Other">=</span> <span class="DecNumber">0</span><span class="Other">;</span> <span class="Identifier">nostderr</span> <span class="Other">=</span> <span class="Identifier">false</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">string</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma">
    <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">OSError</span><span class="Other">,</span> <span class="Identifier">Exception</span><span class="Other">,</span> <span class="Identifier">IOError</span><span class="Other">,</span> <span class="Identifier">Defect</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">ExecIOEffect</span><span class="Other">,</span> <span class="Identifier">ReadIOEffect</span><span class="Other">,</span> <span class="Identifier">RootEffect</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

<p>Execute an external command - supported at compile time</p>
<p>Checks if command exits successfully before returning. If not, an error is raised.</p>


</dd>
<a id="findExe,string"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#findExe%2Cstring"><span class="Identifier">findExe</span></a><span class="Other">(</span><span class="Identifier">exe</span><span class="Other">:</span> <span class="Identifier">string</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">string</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

Find the specified executable using the <tt class="docutils literal"><span class="pre">which</span></tt>/<tt class="docutils literal"><span class="pre">where</span></tt> command - supported at compile time

</dd>
<a id="mkDir,string"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#mkDir%2Cstring"><span class="Identifier">mkDir</span></a><span class="Other">(</span><span class="Identifier">dir</span><span class="Other">:</span> <span class="Identifier">string</span><span class="Other">)</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">OSError</span><span class="Other">,</span> <span class="Identifier">Exception</span><span class="Other">,</span> <span class="Identifier">IOError</span><span class="Other">,</span> <span class="Identifier">Defect</span><span class="Other">,</span> <span class="Identifier">ValueError</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span>
    <span class="Identifier">ReadDirEffect</span><span class="Other">,</span> <span class="Identifier">ExecIOEffect</span><span class="Other">,</span> <span class="Identifier">ReadIOEffect</span><span class="Other">,</span> <span class="Identifier">RootEffect</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

<p>Create a directory at compile time</p>
<p>The <tt class="docutils literal"><span class="pre">os</span></tt> module is not available at compile time so a few crucial helper functions are included with nimterop.</p>


</dd>
<a id="cpFile,string,string"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#cpFile%2Cstring%2Cstring"><span class="Identifier">cpFile</span></a><span class="Other">(</span><span class="Identifier">source</span><span class="Other">,</span> <span class="Identifier">dest</span><span class="Other">:</span> <span class="Identifier">string</span><span class="Other">;</span> <span class="Identifier">move</span> <span class="Other">=</span> <span class="Identifier">false</span><span class="Other">)</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma">
    <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">OSError</span><span class="Other">,</span> <span class="Identifier">Exception</span><span class="Other">,</span> <span class="Identifier">IOError</span><span class="Other">,</span> <span class="Identifier">Defect</span><span class="Other">,</span> <span class="Identifier">ValueError</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">ExecIOEffect</span><span class="Other">,</span> <span class="Identifier">ReadIOEffect</span><span class="Other">,</span> <span class="Identifier">RootEffect</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

Copy a file from <tt class="docutils literal"><span class="pre">source</span></tt> to <tt class="docutils literal"><span class="pre">dest</span></tt> at compile time

</dd>
<a id="mvFile,string,string"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#mvFile%2Cstring%2Cstring"><span class="Identifier">mvFile</span></a><span class="Other">(</span><span class="Identifier">source</span><span class="Other">,</span> <span class="Identifier">dest</span><span class="Other">:</span> <span class="Identifier">string</span><span class="Other">)</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">OSError</span><span class="Other">,</span> <span class="Identifier">Exception</span><span class="Other">,</span> <span class="Identifier">IOError</span><span class="Other">,</span> <span class="Identifier">Defect</span><span class="Other">,</span>
                                        <span class="Identifier">ValueError</span><span class="Other">]</span><span class="Other">,</span>
                                <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">ExecIOEffect</span><span class="Other">,</span> <span class="Identifier">ReadIOEffect</span><span class="Other">,</span> <span class="Identifier">RootEffect</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

Move a file from <tt class="docutils literal"><span class="pre">source</span></tt> to <tt class="docutils literal"><span class="pre">dest</span></tt> at compile time

</dd>
<a id="rmFile,string"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#rmFile%2Cstring"><span class="Identifier">rmFile</span></a><span class="Other">(</span><span class="Identifier">source</span><span class="Other">:</span> <span class="Identifier">string</span><span class="Other">;</span> <span class="Identifier">dir</span> <span class="Other">=</span> <span class="Identifier">false</span><span class="Other">)</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">OSError</span><span class="Other">,</span> <span class="Identifier">Exception</span><span class="Other">,</span> <span class="Identifier">IOError</span><span class="Other">,</span> <span class="Identifier">Defect</span><span class="Other">,</span>
    <span class="Identifier">ValueError</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">ExecIOEffect</span><span class="Other">,</span> <span class="Identifier">ReadIOEffect</span><span class="Other">,</span> <span class="Identifier">RootEffect</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

Remove a file or pattern at compile time

</dd>
<a id="rmDir,string"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#rmDir%2Cstring"><span class="Identifier">rmDir</span></a><span class="Other">(</span><span class="Identifier">dir</span><span class="Other">:</span> <span class="Identifier">string</span><span class="Other">)</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">OSError</span><span class="Other">,</span> <span class="Identifier">Exception</span><span class="Other">,</span> <span class="Identifier">IOError</span><span class="Other">,</span> <span class="Identifier">Defect</span><span class="Other">,</span> <span class="Identifier">ValueError</span><span class="Other">]</span><span class="Other">,</span>
                       <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">ExecIOEffect</span><span class="Other">,</span> <span class="Identifier">ReadIOEffect</span><span class="Other">,</span> <span class="Identifier">RootEffect</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

Remove a directory or pattern at compile time

</dd>
<a id="getProjectCacheDir,string"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#getProjectCacheDir%2Cstring"><span class="Identifier">getProjectCacheDir</span></a><span class="Other">(</span><span class="Identifier">name</span><span class="Other">:</span> <span class="Identifier">string</span><span class="Other">;</span> <span class="Identifier">forceClean</span> <span class="Other">=</span> <span class="Identifier">true</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">string</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma">
    <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">OSError</span><span class="Other">,</span> <span class="Identifier">Exception</span><span class="Other">,</span> <span class="Identifier">IOError</span><span class="Other">,</span> <span class="Identifier">Defect</span><span class="Other">,</span> <span class="Identifier">ValueError</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">ReadEnvEffect</span><span class="Other">,</span> <span class="Identifier">ReadIOEffect</span><span class="Other">,</span> <span class="Identifier">ExecIOEffect</span><span class="Other">,</span> <span class="Identifier">RootEffect</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

<p>Get a cache directory where all nimterop artifacts can be stored</p>
<p>Projects can use this location to download source code and build binaries that can be then accessed by multiple apps. This is created under the per-user Nim cache directory.</p>
<p>Use <tt class="docutils literal"><span class="pre">name</span></tt> to specify the subdirectory name for a project.</p>
<p><tt class="docutils literal"><span class="pre">forceClean</span></tt> is enabled by default and effectively deletes the folder if Nim is compiled with the <tt class="docutils literal"><span class="pre">-f</span></tt> or <tt class="docutils literal"><span class="pre">--forceBuild</span></tt> flag. This allows any project to start out with a clean cache dir on a forced build.</p>
<p>NOTE: avoid calling <tt class="docutils literal"><span class="pre">getProjectCacheDir()</span></tt> multiple times on the same <tt class="docutils literal"><span class="pre">name</span></tt> when <tt class="docutils literal"><span class="pre">forceClean = true</span></tt> else checked out source might get deleted at the wrong time during build.</p>
<dl class="docutils"><dt>E.g.</dt>
<dd><p><tt class="docutils literal"><span class="pre">nimgit2</span></tt> downloads <tt class="docutils literal"><span class="pre">libgit2</span></tt> source so <tt class="docutils literal"><span class="pre">name = &quot;libgit2&quot;</span></tt></p>
<p><tt class="docutils literal"><span class="pre">nimarchive</span></tt> downloads <tt class="docutils literal"><span class="pre">libarchive</span></tt>, <tt class="docutils literal"><span class="pre">bzlib</span></tt>, <tt class="docutils literal"><span class="pre">liblzma</span></tt> and <tt class="docutils literal"><span class="pre">zlib</span></tt> so <tt class="docutils literal"><span class="pre">name = &quot;nimarchive&quot; / &quot;libarchive&quot;</span></tt> for <tt class="docutils literal"><span class="pre">libarchive</span></tt>, etc.</p>
</dd>
</dl>


</dd>
<a id="extractZip,string,string"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#extractZip%2Cstring%2Cstring"><span class="Identifier">extractZip</span></a><span class="Other">(</span><span class="Identifier">zipfile</span><span class="Other">,</span> <span class="Identifier">outdir</span><span class="Other">:</span> <span class="Identifier">string</span><span class="Other">)</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">OSError</span><span class="Other">,</span> <span class="Identifier">Exception</span><span class="Other">,</span> <span class="Identifier">IOError</span><span class="Other">,</span> <span class="Identifier">Defect</span><span class="Other">,</span>
    <span class="Identifier">ValueError</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">ExecIOEffect</span><span class="Other">,</span> <span class="Identifier">ReadIOEffect</span><span class="Other">,</span> <span class="Identifier">RootEffect</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

Extract a zip file using <tt class="docutils literal"><span class="pre">powershell</span></tt> on Windows and <tt class="docutils literal"><span class="pre">unzip</span></tt> on other systems to the specified output directory

</dd>
<a id="extractTar,string,string"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#extractTar%2Cstring%2Cstring"><span class="Identifier">extractTar</span></a><span class="Other">(</span><span class="Identifier">tarfile</span><span class="Other">,</span> <span class="Identifier">outdir</span><span class="Other">:</span> <span class="Identifier">string</span><span class="Other">)</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">ValueError</span><span class="Other">,</span> <span class="Identifier">OSError</span><span class="Other">,</span> <span class="Identifier">Exception</span><span class="Other">,</span>
    <span class="Identifier">IOError</span><span class="Other">,</span> <span class="Identifier">Defect</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">ExecIOEffect</span><span class="Other">,</span> <span class="Identifier">ReadIOEffect</span><span class="Other">,</span> <span class="Identifier">RootEffect</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

Extract a tar file using <tt class="docutils literal"><span class="pre">tar</span></tt>, <tt class="docutils literal"><span class="pre">7z</span></tt> or <tt class="docutils literal"><span class="pre">7za</span></tt> to the specified output directory

</dd>
<a id="downloadUrl,string,string"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#downloadUrl%2Cstring%2Cstring"><span class="Identifier">downloadUrl</span></a><span class="Other">(</span><span class="Identifier">url</span><span class="Other">,</span> <span class="Identifier">outdir</span><span class="Other">:</span> <span class="Identifier">string</span><span class="Other">)</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">OSError</span><span class="Other">,</span> <span class="Identifier">Exception</span><span class="Other">,</span> <span class="Identifier">IOError</span><span class="Other">,</span> <span class="Identifier">Defect</span><span class="Other">,</span>
    <span class="Identifier">ValueError</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">ReadDirEffect</span><span class="Other">,</span> <span class="Identifier">ExecIOEffect</span><span class="Other">,</span> <span class="Identifier">ReadIOEffect</span><span class="Other">,</span> <span class="Identifier">RootEffect</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

<p>Download a file using <tt class="docutils literal"><span class="pre">curl</span></tt> or <tt class="docutils literal"><span class="pre">wget</span></tt> (or <tt class="docutils literal"><span class="pre">powershell</span></tt> on Windows) to the specified directory</p>
<p>If an archive file, it is automatically extracted after download.</p>


</dd>
<a id="gitReset,string"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#gitReset%2Cstring"><span class="Identifier">gitReset</span></a><span class="Other">(</span><span class="Identifier">outdir</span><span class="Other">:</span> <span class="Identifier">string</span><span class="Other">)</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">ValueError</span><span class="Other">,</span> <span class="Identifier">OSError</span><span class="Other">,</span> <span class="Identifier">Exception</span><span class="Other">,</span> <span class="Identifier">IOError</span><span class="Other">,</span> <span class="Identifier">Defect</span><span class="Other">]</span><span class="Other">,</span>
                             <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">ExecIOEffect</span><span class="Other">,</span> <span class="Identifier">ReadIOEffect</span><span class="Other">,</span> <span class="Identifier">RootEffect</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

Hard reset the git repository at the specified directory

</dd>
<a id="gitCheckout,string,string"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#gitCheckout%2Cstring%2Cstring"><span class="Identifier">gitCheckout</span></a><span class="Other">(</span><span class="Identifier">file</span><span class="Other">,</span> <span class="Identifier">outdir</span><span class="Other">:</span> <span class="Identifier">string</span><span class="Other">)</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">ValueError</span><span class="Other">,</span> <span class="Identifier">OSError</span><span class="Other">,</span> <span class="Identifier">Exception</span><span class="Other">,</span>
    <span class="Identifier">IOError</span><span class="Other">,</span> <span class="Identifier">Defect</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">ExecIOEffect</span><span class="Other">,</span> <span class="Identifier">ReadIOEffect</span><span class="Other">,</span> <span class="Identifier">RootEffect</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

<p>Checkout the specified <tt class="docutils literal"><span class="pre">file</span></tt> in the git repository at <tt class="docutils literal"><span class="pre">outdir</span></tt></p>
<p>This effectively resets all changes in the file and can be used to undo any changes that were made to source files to enable successful wrapping with <tt class="docutils literal"><span class="pre">cImport()</span></tt> or <tt class="docutils literal"><span class="pre">c2nImport()</span></tt>.</p>


</dd>
<a id="gitPull,string,string,string,string"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#gitPull%2Cstring%2Cstring%2Cstring%2Cstring"><span class="Identifier">gitPull</span></a><span class="Other">(</span><span class="Identifier">url</span><span class="Other">:</span> <span class="Identifier">string</span><span class="Other">;</span> <span class="Identifier">outdir</span> <span class="Other">=</span> <span class="StringLit">&quot;&quot;</span><span class="Other">;</span> <span class="Identifier">plist</span> <span class="Other">=</span> <span class="StringLit">&quot;&quot;</span><span class="Other">;</span> <span class="Identifier">checkout</span> <span class="Other">=</span> <span class="StringLit">&quot;&quot;</span><span class="Other">)</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma">
    <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">ValueError</span><span class="Other">,</span> <span class="Identifier">OSError</span><span class="Other">,</span> <span class="Identifier">Exception</span><span class="Other">,</span> <span class="Identifier">IOError</span><span class="Other">,</span> <span class="Identifier">Defect</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">ReadDirEffect</span><span class="Other">,</span>
    <span class="Identifier">ExecIOEffect</span><span class="Other">,</span> <span class="Identifier">ReadIOEffect</span><span class="Other">,</span> <span class="Identifier">RootEffect</span><span class="Other">,</span> <span class="Identifier">WriteIOEffect</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

<p>Pull the specified git repository to the output directory</p>
<p><tt class="docutils literal"><span class="pre">plist</span></tt> is the list of specific files and directories or wildcards to sparsely checkout. Multiple values can be specified one entry per line. It is optional and if omitted, the entire repository will be checked out.</p>
<p><tt class="docutils literal"><span class="pre">checkout</span></tt> is the git tag, branch or commit hash to checkout once the repository is downloaded. This allows for pinning to a specific version of the code.</p>


</dd>
<a id="findFile,string,string"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#findFile%2Cstring%2Cstring"><span class="Identifier">findFile</span></a><span class="Other">(</span><span class="Identifier">file</span><span class="Other">:</span> <span class="Identifier">string</span><span class="Other">;</span> <span class="Identifier">dir</span><span class="Other">:</span> <span class="Identifier">string</span><span class="Other">;</span> <span class="Identifier">recurse</span> <span class="Other">=</span> <span class="Identifier">true</span><span class="Other">;</span> <span class="Identifier">first</span> <span class="Other">=</span> <span class="Identifier">false</span><span class="Other">;</span> <span class="Identifier">regex</span> <span class="Other">=</span> <span class="Identifier">false</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">string</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma">
    <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">ValueError</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

<p>Find the file in the specified directory</p>
<p><tt class="docutils literal"><span class="pre">file</span></tt> is a regular expression if <tt class="docutils literal"><span class="pre">regex</span></tt> is true</p>
<p>Turn off recursive search with <tt class="docutils literal"><span class="pre">recurse</span></tt> and stop on first match with <tt class="docutils literal"><span class="pre">first</span></tt>. Without it, the shortest match is returned.</p>


</dd>
<a id="flagBuild,string,openArray[string]"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#flagBuild%2Cstring%2CopenArray%5Bstring%5D"><span class="Identifier">flagBuild</span></a><span class="Other">(</span><span class="Identifier">base</span><span class="Other">:</span> <span class="Identifier">string</span><span class="Other">;</span> <span class="Identifier">flags</span><span class="Other">:</span> <span class="Identifier">openArray</span><span class="Other">[</span><span class="Identifier">string</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">string</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">ValueError</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

<p>Simple helper proc to generate flags for <tt class="docutils literal"><span class="pre">configure</span></tt>, <tt class="docutils literal"><span class="pre">cmake</span></tt>, etc.</p>
<p>Every entry in <tt class="docutils literal"><span class="pre">flags</span></tt> is replaced into the <tt class="docutils literal"><span class="pre">base</span></tt> string and concatenated to the result.</p>
<dl class="docutils"><dt>E.g.</dt>
<dd><tt class="docutils literal"><span class="pre">base = &quot;--disable-$#&quot;</span></tt> <tt class="docutils literal"><span class="pre">flags = @[&quot;one&quot;, &quot;two&quot;]</span></tt></dd>
</dl>
<p><tt class="docutils literal"><span class="pre">flagBuild(base, flags) =&gt; &quot; --disable-one --disable-two&quot;</span></tt></p>


</dd>
<a id="linkLibs,openArray[string]"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#linkLibs%2CopenArray%5Bstring%5D"><span class="Identifier">linkLibs</span></a><span class="Other">(</span><span class="Identifier">names</span><span class="Other">:</span> <span class="Identifier">openArray</span><span class="Other">[</span><span class="Identifier">string</span><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">staticLink</span> <span class="Other">=</span> <span class="Identifier">true</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">string</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma">
    <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">ValueError</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

<p>Create linker flags for specified libraries</p>
<p>Prepends <tt class="docutils literal"><span class="pre">lib</span></tt> to the name so you only need <tt class="docutils literal"><span class="pre">ssl</span></tt> for <tt class="docutils literal"><span class="pre">libssl</span></tt>.</p>


</dd>
<a id="configure,string,string,string"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#configure%2Cstring%2Cstring%2Cstring"><span class="Identifier">configure</span></a><span class="Other">(</span><span class="Identifier">path</span><span class="Other">,</span> <span class="Identifier">check</span><span class="Other">:</span> <span class="Identifier">string</span><span class="Other">;</span> <span class="Identifier">flags</span> <span class="Other">=</span> <span class="StringLit">&quot;&quot;</span><span class="Other">)</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma">
    <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">OSError</span><span class="Other">,</span> <span class="Identifier">Exception</span><span class="Other">,</span> <span class="Identifier">IOError</span><span class="Other">,</span> <span class="Identifier">Defect</span><span class="Other">,</span> <span class="Identifier">ValueError</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">ReadDirEffect</span><span class="Other">,</span> <span class="Identifier">ExecIOEffect</span><span class="Other">,</span> <span class="Identifier">ReadIOEffect</span><span class="Other">,</span> <span class="Identifier">RootEffect</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

<p>Run the GNU <tt class="docutils literal"><span class="pre">configure</span></tt> command to generate all Makefiles or other build scripts in the specified path</p>
<p>If a <tt class="docutils literal"><span class="pre">configure</span></tt> script is not present and an <tt class="docutils literal"><span class="pre">autogen.sh</span></tt> script is present, it will be run before attempting <tt class="docutils literal"><span class="pre">configure</span></tt>.</p>
<p>Next, if <tt class="docutils literal"><span class="pre">configure.ac</span></tt> or <tt class="docutils literal"><span class="pre">configure.in</span></tt> exist, <tt class="docutils literal"><span class="pre">autoreconf</span></tt> will be executed.</p>
<p><tt class="docutils literal"><span class="pre">check</span></tt> is a file that will be generated by the <tt class="docutils literal"><span class="pre">configure</span></tt> command. This is required to prevent configure from running on every build. It is relative to the <tt class="docutils literal"><span class="pre">path</span></tt> and should not be an absolute path.</p>
<p><tt class="docutils literal"><span class="pre">flags</span></tt> are any flags that should be passed to the <tt class="docutils literal"><span class="pre">configure</span></tt> command.</p>


</dd>
<a id="getCmakeIncludePath,openArray[string]"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#getCmakeIncludePath%2CopenArray%5Bstring%5D"><span class="Identifier">getCmakeIncludePath</span></a><span class="Other">(</span><span class="Identifier">paths</span><span class="Other">:</span> <span class="Identifier">openArray</span><span class="Other">[</span><span class="Identifier">string</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">string</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

<p>Create a <tt class="docutils literal"><span class="pre">cmake</span></tt> flag to specify custom include paths</p>
<p>Result can be included in the <tt class="docutils literal"><span class="pre">flag</span></tt> parameter for <tt class="docutils literal"><span class="pre">cmake()</span></tt> or the <tt class="docutils literal"><span class="pre">cmakeFlags</span></tt> parameter for <tt class="docutils literal"><span class="pre">getHeader()</span></tt>.</p>


</dd>
<a id="setCmakeProperty,string,string,string,string"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#setCmakeProperty%2Cstring%2Cstring%2Cstring%2Cstring"><span class="Identifier">setCmakeProperty</span></a><span class="Other">(</span><span class="Identifier">outdir</span><span class="Other">,</span> <span class="Identifier">name</span><span class="Other">,</span> <span class="Identifier">property</span><span class="Other">,</span> <span class="Identifier">value</span><span class="Other">:</span> <span class="Identifier">string</span><span class="Other">)</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma">
    <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">IOError</span><span class="Other">,</span> <span class="Identifier">ValueError</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">ReadDirEffect</span><span class="Other">,</span> <span class="Identifier">WriteIOEffect</span><span class="Other">,</span> <span class="Identifier">ReadIOEffect</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

<p>Set a <tt class="docutils literal"><span class="pre">cmake</span></tt> property in <tt class="docutils literal"><span class="pre">outdir / CMakeLists.txt</span></tt> - usable in the <tt class="docutils literal"><span class="pre">xxxPreBuild</span></tt> hook for <tt class="docutils literal"><span class="pre">getHeader()</span></tt></p>
<p><tt class="docutils literal"><span class="pre">set_target_properties(name PROPERTIES property &quot;value&quot;)</span></tt></p>


</dd>
<a id="setCmakeLibName,string,string,string,string,string"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#setCmakeLibName%2Cstring%2Cstring%2Cstring%2Cstring%2Cstring"><span class="Identifier">setCmakeLibName</span></a><span class="Other">(</span><span class="Identifier">outdir</span><span class="Other">,</span> <span class="Identifier">name</span><span class="Other">,</span> <span class="Identifier">prefix</span> <span class="Other">=</span> <span class="StringLit">&quot;&quot;</span><span class="Other">;</span> <span class="Identifier">oname</span> <span class="Other">=</span> <span class="StringLit">&quot;&quot;</span><span class="Other">;</span> <span class="Identifier">suffix</span> <span class="Other">=</span> <span class="StringLit">&quot;&quot;</span><span class="Other">)</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma">
    <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">ValueError</span><span class="Other">,</span> <span class="Identifier">IOError</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">ReadDirEffect</span><span class="Other">,</span> <span class="Identifier">WriteIOEffect</span><span class="Other">,</span> <span class="Identifier">ReadIOEffect</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

<p>Set a <tt class="docutils literal"><span class="pre">cmake</span></tt> property in <tt class="docutils literal"><span class="pre">outdir / CMakeLists.txt</span></tt> to specify a custom library output name - usable in the <tt class="docutils literal"><span class="pre">xxxPreBuild</span></tt> hook for <tt class="docutils literal"><span class="pre">getHeader()</span></tt></p>
<p><tt class="docutils literal"><span class="pre">prefix</span></tt> is typically <tt class="docutils literal"><span class="pre">lib</span></tt> <tt class="docutils literal"><span class="pre">oname</span></tt> is the library name <tt class="docutils literal"><span class="pre">suffix</span></tt> is typically <tt class="docutils literal"><span class="pre">.a</span></tt></p>
<p>Sometimes, <tt class="docutils literal"><span class="pre">cmake</span></tt> generates non-standard library names - e.g. zlib compiles to <tt class="docutils literal"><span class="pre">libzlibstatic.a</span></tt> on Windows. This proc can help rename it to <tt class="docutils literal"><span class="pre">libzlib.a</span></tt> so that <tt class="docutils literal"><span class="pre">getHeader()</span></tt> can find it after the library is compiled.</p>
<p><pre class="listing">
set_target_properties(name PROPERTIES PREFIX &quot;prefix&quot;)
set_target_properties(name PROPERTIES OUTPUT_NAME &quot;oname&quot;)
set_target_properties(name PROPERTIES SUFFIX &quot;suffix&quot;)
</pre></p>


</dd>
<a id="setCmakePositionIndependentCode,string"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#setCmakePositionIndependentCode%2Cstring"><span class="Identifier">setCmakePositionIndependentCode</span></a><span class="Other">(</span><span class="Identifier">outdir</span><span class="Other">:</span> <span class="Identifier">string</span><span class="Other">)</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">IOError</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">ReadDirEffect</span><span class="Other">,</span> <span class="Identifier">ReadIOEffect</span><span class="Other">,</span> <span class="Identifier">WriteIOEffect</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

Set a <tt class="docutils literal"><span class="pre">cmake</span></tt> directive to create libraries with -fPIC enabled

</dd>
<a id="cmake,string,string,string"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#cmake%2Cstring%2Cstring%2Cstring"><span class="Identifier">cmake</span></a><span class="Other">(</span><span class="Identifier">path</span><span class="Other">,</span> <span class="Identifier">check</span><span class="Other">,</span> <span class="Identifier">flags</span><span class="Other">:</span> <span class="Identifier">string</span><span class="Other">)</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">OSError</span><span class="Other">,</span> <span class="Identifier">Exception</span><span class="Other">,</span> <span class="Identifier">IOError</span><span class="Other">,</span> <span class="Identifier">Defect</span><span class="Other">,</span>
    <span class="Identifier">ValueError</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">ReadDirEffect</span><span class="Other">,</span> <span class="Identifier">ExecIOEffect</span><span class="Other">,</span> <span class="Identifier">ReadIOEffect</span><span class="Other">,</span> <span class="Identifier">RootEffect</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

<p>Run the <tt class="docutils literal"><span class="pre">cmake</span></tt> command to generate all Makefiles or other build scripts in the specified path</p>
<p><tt class="docutils literal"><span class="pre">path</span></tt> will be created since typically <tt class="docutils literal"><span class="pre">cmake</span></tt> is run in an empty directory.</p>
<p><tt class="docutils literal"><span class="pre">check</span></tt> is a file that will be generated by the <tt class="docutils literal"><span class="pre">cmake</span></tt> command. This is required to prevent <tt class="docutils literal"><span class="pre">cmake</span></tt> from running on every build. It is relative to the <tt class="docutils literal"><span class="pre">path</span></tt> and should not be an absolute path.</p>
<p><tt class="docutils literal"><span class="pre">flags</span></tt> are any flags that should be passed to the <tt class="docutils literal"><span class="pre">cmake</span></tt> command. Unlike <tt class="docutils literal"><span class="pre">configure</span></tt>, it is required since typically it will be the path to the repository, typically <tt class="docutils literal"><span class="pre">..</span></tt> when <tt class="docutils literal"><span class="pre">path</span></tt> is a subdir.</p>


</dd>
<a id="make,string,string,string"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#make%2Cstring%2Cstring%2Cstring"><span class="Identifier">make</span></a><span class="Other">(</span><span class="Identifier">path</span><span class="Other">,</span> <span class="Identifier">check</span><span class="Other">:</span> <span class="Identifier">string</span><span class="Other">;</span> <span class="Identifier">flags</span> <span class="Other">=</span> <span class="StringLit">&quot;&quot;</span><span class="Other">;</span> <span class="Identifier">regex</span> <span class="Other">=</span> <span class="Identifier">false</span><span class="Other">)</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma">
    <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">ValueError</span><span class="Other">,</span> <span class="Identifier">OSError</span><span class="Other">,</span> <span class="Identifier">Exception</span><span class="Other">,</span> <span class="Identifier">IOError</span><span class="Other">,</span> <span class="Identifier">Defect</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">ExecIOEffect</span><span class="Other">,</span> <span class="Identifier">ReadIOEffect</span><span class="Other">,</span> <span class="Identifier">RootEffect</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

<p>Run the <tt class="docutils literal"><span class="pre">make</span></tt> command to build all binaries in the specified path</p>
<p><tt class="docutils literal"><span class="pre">check</span></tt> is a file that will be generated by the <tt class="docutils literal"><span class="pre">make</span></tt> command. This is required to prevent <tt class="docutils literal"><span class="pre">make</span></tt> from running on every build. It is relative to the <tt class="docutils literal"><span class="pre">path</span></tt> and should not be an absolute path.</p>
<p><tt class="docutils literal"><span class="pre">flags</span></tt> are any flags that should be passed to the <tt class="docutils literal"><span class="pre">make</span></tt> command.</p>
<p><tt class="docutils literal"><span class="pre">regex</span></tt> can be set to true if <tt class="docutils literal"><span class="pre">check</span></tt> is a regular expression.</p>
<p>If <tt class="docutils literal"><span class="pre">make.exe</span></tt> is missing and <tt class="docutils literal"><span class="pre">mingw32-make.exe</span></tt> is available, it will be copied over to make.exe in the same location.</p>


</dd>
<a id="getGccPaths,string"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#getGccPaths%2Cstring"><span class="Identifier">getGccPaths</span></a><span class="Other">(</span><span class="Identifier">mode</span> <span class="Other">=</span> <span class="StringLit">&quot;c&quot;</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">seq</span><span class="Other">[</span><span class="Identifier">string</span><span class="Other">]</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">ValueError</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">ReadEnvEffect</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>



</dd>
<a id="getGccLibPaths,string"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#getGccLibPaths%2Cstring"><span class="Identifier">getGccLibPaths</span></a><span class="Other">(</span><span class="Identifier">mode</span> <span class="Other">=</span> <span class="StringLit">&quot;c&quot;</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">seq</span><span class="Other">[</span><span class="Identifier">string</span><span class="Other">]</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">ValueError</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">ReadEnvEffect</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>



</dd>

</dl></div>
<div class="section" id="17">
<h1><a class="toc-backref" href="#17">Macros</a></h1>
<dl class="item">
<a id="setDefines.m"></a>
<dt><pre><span class="Keyword">macro</span> <a href="#setDefines.m"><span class="Identifier">setDefines</span></a><span class="Other">(</span><span class="Identifier">defs</span><span class="Other">:</span> <span class="Identifier">static</span> <span class="Identifier">openArray</span><span class="Other">[</span><span class="Identifier">string</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">untyped</span></pre></dt>
<dd>

<p>Specify <tt class="docutils literal"><span class="pre">-d:xxx</span></tt> values in code instead of having to rely on the command line or <tt class="docutils literal"><span class="pre">cfg</span></tt> or <tt class="docutils literal"><span class="pre">nims</span></tt> files.</p>
<p>At this time, Nim does not allow creation of <tt class="docutils literal"><span class="pre">-d:xxx</span></tt> defines in code. In addition, Nim only loads config files for the module being compiled but not for imported packages. This becomes a challenge when wanting to ship a wrapper library that wants to control <tt class="docutils literal"><span class="pre">getHeader()</span></tt> for an underlying package.</p>
<blockquote><p>E.g. nimarchive wanting to set <tt class="docutils literal"><span class="pre">-d:lzmaStatic</span></tt></p></blockquote>
<p>The consumer of nimarchive would need to set such defines as part of their project, making it inconvenient.</p>
<p>By calling this proc with the defines preferred before importing such a module, the caller can set the behavior in code instead.</p>
<pre class="listing"><span class="Identifier">setDefines</span><span class="Punctuation">(</span><span class="Operator">@</span><span class="Punctuation">[</span><span class="StringLit">&quot;lzmaStatic&quot;</span><span class="Punctuation">,</span> <span class="StringLit">&quot;lzmaDL&quot;</span><span class="Punctuation">,</span> <span class="StringLit">&quot;lzmaSetVer=5.2.4&quot;</span><span class="Punctuation">]</span><span class="Punctuation">)</span>

<span class="Keyword">import</span> <span class="Identifier">lzma</span></pre>

</dd>
<a id="clearDefines.m"></a>
<dt><pre><span class="Keyword">macro</span> <a href="#clearDefines.m"><span class="Identifier">clearDefines</span></a><span class="Other">(</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">untyped</span></pre></dt>
<dd>

Clear all defines set using <tt class="docutils literal"><span class="pre">setDefines()</span></tt>.

</dd>
<a id="isDefined.m,untyped"></a>
<dt><pre><span class="Keyword">macro</span> <a href="#isDefined.m%2Cuntyped"><span class="Identifier">isDefined</span></a><span class="Other">(</span><span class="Identifier">def</span><span class="Other">:</span> <span class="Identifier">untyped</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">untyped</span></pre></dt>
<dd>

Check if <tt class="docutils literal"><span class="pre">-d:xxx</span></tt> is set globally or via <tt class="docutils literal"><span class="pre">setDefines()</span></tt>

</dd>
<a id="getHeader.m,static[string],static[string],static[string],static[string],static[string],static[string],static[string],static[string]"></a>
<dt><pre><span class="Keyword">macro</span> <a href="#getHeader.m%2Cstatic%5Bstring%5D%2Cstatic%5Bstring%5D%2Cstatic%5Bstring%5D%2Cstatic%5Bstring%5D%2Cstatic%5Bstring%5D%2Cstatic%5Bstring%5D%2Cstatic%5Bstring%5D%2Cstatic%5Bstring%5D"><span class="Identifier">getHeader</span></a><span class="Other">(</span><span class="Identifier">header</span><span class="Other">:</span> <span class="Identifier">static</span><span class="Other">[</span><span class="Identifier">string</span><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">giturl</span><span class="Other">:</span> <span class="Identifier">static</span><span class="Other">[</span><span class="Identifier">string</span><span class="Other">]</span> <span class="Other">=</span> <span class="StringLit">&quot;&quot;</span><span class="Other">;</span>
               <span class="Identifier">dlurl</span><span class="Other">:</span> <span class="Identifier">static</span><span class="Other">[</span><span class="Identifier">string</span><span class="Other">]</span> <span class="Other">=</span> <span class="StringLit">&quot;&quot;</span><span class="Other">;</span> <span class="Identifier">outdir</span><span class="Other">:</span> <span class="Identifier">static</span><span class="Other">[</span><span class="Identifier">string</span><span class="Other">]</span> <span class="Other">=</span> <span class="StringLit">&quot;&quot;</span><span class="Other">;</span>
               <span class="Identifier">conFlags</span><span class="Other">:</span> <span class="Identifier">static</span><span class="Other">[</span><span class="Identifier">string</span><span class="Other">]</span> <span class="Other">=</span> <span class="StringLit">&quot;&quot;</span><span class="Other">;</span> <span class="Identifier">cmakeFlags</span><span class="Other">:</span> <span class="Identifier">static</span><span class="Other">[</span><span class="Identifier">string</span><span class="Other">]</span> <span class="Other">=</span> <span class="StringLit">&quot;&quot;</span><span class="Other">;</span>
               <span class="Identifier">makeFlags</span><span class="Other">:</span> <span class="Identifier">static</span><span class="Other">[</span><span class="Identifier">string</span><span class="Other">]</span> <span class="Other">=</span> <span class="StringLit">&quot;&quot;</span><span class="Other">;</span> <span class="Identifier">altNames</span><span class="Other">:</span> <span class="Identifier">static</span><span class="Other">[</span><span class="Identifier">string</span><span class="Other">]</span> <span class="Other">=</span> <span class="StringLit">&quot;&quot;</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">untyped</span></pre></dt>
<dd>

<p>Get the path to a header file for wrapping with <a class="reference external" href="cimport.html#cImport.m%2C%2Cstring%2Cstring%2Cstring">cImport()</a> or <a class="reference external" href="cimport.html#c2nImport.m%2C%2Cstring%2Cstring%2Cstring">c2nImport()</a>.</p>
<p>This proc checks <tt class="docutils literal"><span class="pre">-d:xxx</span></tt> defines based on the header name (e.g. lzma from lzma.h), and accordingly employs different ways to obtain the source.</p>
<p><tt class="docutils literal"><span class="pre">-d:xxxStd</span></tt> - search standard system paths. E.g. <tt class="docutils literal"><span class="pre">/usr/include</span></tt> and <tt class="docutils literal"><span class="pre">/usr/lib</span></tt> on Linux <tt class="docutils literal"><span class="pre">-d:xxxGit</span></tt> - clone source from a git repo specified in <tt class="docutils literal"><span class="pre">giturl</span></tt> <tt class="docutils literal"><span class="pre">-d:xxxDL</span></tt> - download source from <tt class="docutils literal"><span class="pre">dlurl</span></tt> and extract if required</p>
<p>This allows a single wrapper to be used in different ways depending on the user's needs. If no <tt class="docutils literal"><span class="pre">-d:xxx</span></tt> defines are specified, <tt class="docutils literal"><span class="pre">outdir</span></tt> will be searched for the header as is.</p>
<p>If multiple <tt class="docutils literal"><span class="pre">-d:xxx</span></tt> defines are specified, precedence is <tt class="docutils literal"><span class="pre">Std</span></tt> and then <tt class="docutils literal"><span class="pre">Git</span></tt> or <tt class="docutils literal"><span class="pre">DL</span></tt>. This allows using a system installed library if available before falling back to manual building.</p>
<p><tt class="docutils literal"><span class="pre">-d:xxxSetVer=x.y.z</span></tt> can be used to specify which version to use. It is used as a tag name for Git whereas for DL, it replaces <tt class="docutils literal"><span class="pre">$1</span></tt> in the URL defined.</p>
<p>All defines can also be set in code using <tt class="docutils literal"><span class="pre">setDefines()</span></tt>.</p>
<p>The library is then configured (with <tt class="docutils literal"><span class="pre">cmake</span></tt> or <tt class="docutils literal"><span class="pre">autotools</span></tt> if possible) and built using <tt class="docutils literal"><span class="pre">make</span></tt>, unless using <tt class="docutils literal"><span class="pre">-d:xxxStd</span></tt> which presumes that the system package manager was used to install prebuilt headers and binaries.</p>
<p>The header path is stored in <tt class="docutils literal"><span class="pre">const xxxPath</span></tt> and can be used in a <tt class="docutils literal"><span class="pre">cImport()</span></tt> call in the calling wrapper. The dynamic library path is stored in <tt class="docutils literal"><span class="pre">const xxxLPath</span></tt> and can be used for the <tt class="docutils literal"><span class="pre">dynlib</span></tt> parameter (within quotes) or with <tt class="docutils literal"><span class="pre">{.passL.}</span></tt>.</p>
<p><tt class="docutils literal"><span class="pre">-d:xxxStatic</span></tt> can be specified to statically link with the library instead. This will automatically add a <tt class="docutils literal"><span class="pre">{.passL.}</span></tt> call to the static library for convenience.</p>
<p><tt class="docutils literal"><span class="pre">conFlags</span></tt>, <tt class="docutils literal"><span class="pre">cmakeFlags</span></tt> and <tt class="docutils literal"><span class="pre">makeFlags</span></tt> allow sending custom parameters to <tt class="docutils literal"><span class="pre">configure</span></tt>, <tt class="docutils literal"><span class="pre">cmake</span></tt> and <tt class="docutils literal"><span class="pre">make</span></tt> in case additional configuration is required as part of the build process.</p>
<p><tt class="docutils literal"><span class="pre">altNames</span></tt> is a list of alternate names for the library - e.g. zlib uses <tt class="docutils literal"><span class="pre">zlib.h</span></tt> for the header but the typical lib name is <tt class="docutils literal"><span class="pre">libz.so</span></tt> and not <tt class="docutils literal"><span class="pre">libzlib.so</span></tt>. In this case, <tt class="docutils literal"><span class="pre">altNames = &quot;z&quot;</span></tt>. Comma separate for multiple alternate names.</p>
<p><tt class="docutils literal"><span class="pre">xxxPreBuild</span></tt> is a hook that is called after the source code is pulled from Git or downloaded but before the library is built. This might be needed if some initial prep needs to be done before compilation. A few values are provided to the hook to help provide context:</p>
<p><tt class="docutils literal"><span class="pre">outdir</span></tt> is the same <tt class="docutils literal"><span class="pre">outdir</span></tt> passed in and <tt class="docutils literal"><span class="pre">header</span></tt> is the discovered header path in the downloaded source code.</p>
<p>Simply define <tt class="docutils literal"><span class="pre">proc xxxPreBuild(outdir, header: string)</span></tt> in the wrapper and it will get called prior to the build process.</p>


</dd>

</dl></div>

  </div>
</div>

    <div class="row">
      <div class="twelve-columns footer">
        <span class="nim-sprite"></span>
        <br/>
        <small>Made with Nim. Generated: 2019-10-10 23:38:15 UTC</small>
      </div>
    </div>
  </div>
</div>

</body>
</html>
